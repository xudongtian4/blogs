
<!-- {include file='public/header'/} 
{include file='public/nav'/} -->

{extend name="public/base"/}

{block name='body'}
<div class="row">
     <div class="col-md-8">
        <div class="page-header">

        	<h2>用户注册</h2>
        </div>
			  <form class="form-horizontal"  method="post" id="login">

			  <div class="form-group">
			    <label for="inputUserName1" class="col-sm-2 control-label">用户名:</label>
			    <div class="col-sm-10">
			      <input type="text" name="name" value="" class="form-control" id="inputUserName1" placeholder="Username">
			    </div>
			  </div>

              <div class="form-group">
			    <label for="inputEmail2" class="col-sm-2 control-label">邮箱:</label>
			    <div class="col-sm-10">
			      <input type="text" name="email" value="" class="form-control" id="inputEmail2" placeholder="Email">
			    </div>
			  </div>

			  <div class="form-group">
			    <label for="inputMobile3" class="col-sm-2 control-label">手机号:</label>
			    <div class="col-sm-10">
			      <input type="text" name="mobile" value="" class="form-control" id="inputMobile3" placeholder="Mobile">
			    </div>
			  </div>

			  <div class="form-group">
			    <label for="inputPassword4" class="col-sm-2 control-label">密码:</label>
			    <div class="col-sm-10">
			      <input type="password" name="password" value="" class="form-control" id="inputPassword4" placeholder="Password">
			    </div>
			  </div>

			  <div class="form-group">
			    <label for="inputPassword5" class="col-sm-2 control-label">确认密码:</label>
			    <div class="col-sm-10">
			      <input type="password" name="password_confirm" value="" class="form-control" id="inputPassword5" placeholder="Password confirm">
			    </div>
			  </div>

			  <div class="form-group">
			    <div class="col-sm-offset-2 col-sm-10">
			      <button type='button' class="btn btn-primary" id="register">注册</button>
			    </div>
			  </div>
			</form>
     </div>

     <script>

     	$(function(){
     		$("#register").on('click',function(){
     			//alert($('#login').serialize());
     			//以下进行ajax验证
     			$.ajax({
     				type: "post",                       //提交数据的方式
     				 url: "{:url('insert')}",           //提交到哪里进行处理
     				data: $("#login").serialize(),      //要提交的数据，序列化
     			dataType: 'json',                       //提交数据的格式
     			 success: function(data){  
     		      switch(data.status){
     		      	 case 1 :
	     		      	 alert(data.message);
	     		      	 window.location.href="{:url('index/index')}";
     		      	     break;
     		      	 case 0:
     		      	 case -1:
	     		      	 alert(data.message);
	     		      	 window.location.back();
	     		      }
     			   }
     			})
     		})
     	})
     </script>
  {/block}

<!-- {include file='public/right' /}
{include file='public/footer'/} -->
